generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url = env("DATABASE_URL")
  relationMode = "prisma"
}

model User {
  id      Int      @id @default(autoincrement())
  email   String   @unique
  username    String? @unique
  password    String
  role    Role     @default(USER)
  friends         User[] @relation("friends")
  friendsRelation User[] @relation("friends")
  history   TotalExercises?
  dayExercise DayOfExercises[]
}
model TotalExercises {
    id          Int       @id @default(autoincrement())
    totalPushups        Int
    totalAbdomens Int
    totalJumpingJacks       Int
    totalDumbbellLifts       Int
    user                   User      @relation(fields: [userId], references: [id])
    userId   Int    @unique
}

model DayOfExercises {
    id          Int       @id @default(autoincrement())
    date        String 
    pushups        Int
    abdomens        Int
    jumpingJacks       Int
    dumbbellLifts       Int
    userId              Int  
    user              User  @relation(fields: [userId], references: [id])


    @@index([userId])
}
enum Role {
  USER
  ADMIN
}